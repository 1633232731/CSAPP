<!--miniprogram/pages/index/index.wxml-->
<view class="container">

  <view class="top">
    <view class="title">
      <view class="title-text-1">Hello world! </view>
      <view class="title-text-2">Technology makes life easier.</view>
    </view>
    <view class="search">
      <image src="icon/search.png" class="search-image"></image>
      <input class="search-input" placeholder="Search In Database" bindinput="getSearch" value="{{searchText}}"
        maxlength="10">
      </input>
      <view class="search-button" bindtap="navigateToSearchPage">搜索</view>
      <!-- <view class="search-button" bindtap="getSearchProblem">搜索</view> -->
    </view>
  </view>

  <view class="category">
    <block wx:for="{{category}}">
      <view wx:if="{{index!=chooseCategoryIndex}}" class="category-item" bindtap="chooseCategory"
        data-index="{{index}}">{{item}}</view>
      <view wx:else class="category-item" style="color:black;text-decoration:underline">{{item}}</view>
    </block>
  </view>

  <block wx:if="{{data.length !== 0}}">
    <block wx:for="{{data}}">
      <view class="data-block" bindtap="navigateToDetail" data-problemno="{{item.problemID}}">
        <view class="data-top">
          <block wx:if="{{index==0 || index==1 || index==2}}">
            <view wx:if="{{index==0}}" class="data-top-number-area" style="background-color:RGB(254,75,89)">
              <text class="data-top-number">{{index+1}}</text>
            </view>
            <view wx:if="{{index==1}}" class="data-top-number-area" style="background-color:RGB(255,177,75)">
              <text class="data-top-number">{{index+1}}</text>
            </view>
            <view wx:if="{{index==2}}" class="data-top-number-area" style="background-color:RGB(72,144,254)">
              <text class="data-top-number">{{index+1}}</text>
            </view>
          </block>
          <block wx:else>
            <view class="data-top-number-area">
              <text class="data-top-number">{{index+1}}</text>
            </view>
          </block>

          <view class="data-top-title">{{item.title}}</view>
        </view>

        <view class="data-middle">
          <view class="data-middle-text">{{item.description}}</view>
        </view>

        <view class="data-bottom">
          <view class="data-bottm-author">{{item.authorNickname}}</view>
          <view class="data-bottom-like">{{item.like}} 赞同</view>
        </view>
      </view>
    </block>
  </block>
  <block wx:else>
    <view class="load-data">数据加载中......</view>
  </block>


</view>